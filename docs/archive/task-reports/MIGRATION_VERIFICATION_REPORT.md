# Migration Verification Report

**Generated:** 2025-12-15T14:53:20.504567
**Overall Status:** ✗ FAILED

## Summary

- **Tests:** ✗ Failed
- **Imports:** ✓ Verified
- **Documentation:** ✓ Verified
- **Total Issues:** 1

---

## 1. Test Results

✗ **Some tests failed**

- Total tests: 194
- Passed: 184
- Failed: 5
- Skipped: 5

### Errors:

```
/Users/qudian/Library/Python/3.12/lib/python/site-packages/pytest_asyncio/plugin.py:207: PytestDeprecationWarning: The configuration option "asyncio_default_fixture_loop_scope" is unset.
The event loop scope for asynchronous fixtures will default to the fixture caching scope. Future versions of pytest-asyncio will default the loop scope for asynchronous fixtures to function scope. Set the default fixture loop scope explicitly in order to avoid unexpected behavior in the future. Valid fixture loo
```

## 2. Import Path Verification

- Files checked: 96/96
- Import errors: 0
- Warnings: 0

## 3. Documentation Link Verification

- Documents checked: 62/62
- Broken links: 0
- Warnings: 0

## 4. Recommendations

⚠ **Action items to address:**

1. Fix failing tests before proceeding

---

## Detailed Results (JSON)

```json
{
  "timestamp": "2025-12-15T14:53:20.504567",
  "tests": {
    "passed": false,
    "total_tests": 194,
    "passed_tests": 184,
    "failed_tests": 5,
    "skipped_tests": 5,
    "errors": [
      "/Users/qudian/Library/Python/3.12/lib/python/site-packages/pytest_asyncio/plugin.py:207: PytestDeprecationWarning: The configuration option \"asyncio_default_fixture_loop_scope\" is unset.\nThe event loop scope for asynchronous fixtures will default to the fixture caching scope. Future versions of pytest-asyncio will default the loop scope for asynchronous fixtures to function scope. Set the default fixture loop scope explicitly in order to avoid unexpected behavior in the future. Valid fixture loop scopes are: \"function\", \"class\", \"module\", \"package\", \"session\"\n\n  warnings.warn(PytestDeprecationWarning(_DEFAULT_FIXTURE_LOOP_SCOPE_UNSET))\n"
    ],
    "output": "============================= test session starts ==============================\nplatform darwin -- Python 3.12.0, pytest-8.3.3, pluggy-1.5.0 -- /usr/local/bin/python\ncachedir: .pytest_cache\nrootdir: /Users/qudian/Documents/GitHub/prompt-lab\nconfigfile: pyproject.toml\nplugins: anyio-4.9.0, asyncio-0.25.0\nasyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None\ncollecting ... collected 689 items / 41 deselected / 648 selected\n\ntests/test_agent_template_parser.py::TestTemplateData::test_template_data_creation PASSED [  0%]\ntests/test_agent_template_parser.py::TestTemplateData::test_template_data_validation PASSED [  0%]\ntests/test_agent_template_parser.py::TestParsedTemplate::test_parsed_template_creation PASSED [  0%]\ntests/test_agent_template_parser.py::TestParsedTemplate::test_no_variables PASSED [  0%]\ntests/test_agent_template_parser.py::TestGeneratedConfig::test_valid_config PASSED [  0%]\ntests/test_agent_template_parser.py::TestGeneratedConfig::test_invalid_config PASSED [  0%]\ntests/test_agent_template_parser.py::TestTemplateManager::test_directory_creation PASSED [  1%]\ntests/test_agent_template_parser.py::TestTemplateManager::test_save_and_load_template_files PASSED [  1%]\ntests/test_agent_template_parser.py::TestTemplateManager::test_create_template_data PASSED [  1%]\ntests/test_agent_template_parser.py::TestTemplateManager::test_list_available_agents PASSED [  1%]\ntests/test_agent_template_parser.py::TestTemplateManager::test_validate_template_files PASSED [  1%]\ntests/test_agent_template_parser.py::TestTemplateManager::test_filename_sanitization PASSED [  1%]\ntests/test_agent_template_parser.py::TestTemplateManager::test_get_template_structure_type_folder PASSED [  2%]\ntests/test_agent_template_parser.py::TestTemplateManager::test_get_template_structure_type_legacy PASSED [  2%]\ntests/test_agent_template_parser.py::TestTemplateManager::test_get_template_structure_type_mixed PASSED [  2%]\ntests/test_agent_template_parser.py::TestTemplateManager::test_get_template_structure_type_missing PASSED [  2%]\ntests/test_agent_template_parser.py::TestTemplateManager::test_get_template_structure_type_empty_name PASSED [  2%]\ntests/test_agent_template_parser.py::TestTemplateManager::test_validate_agent_folder_structure_valid PASSED [  2%]\ntests/test_agent_template_parser.py::TestTemplateManager::test_validate_agent_folder_structure_missing_files PASSED [  2%]\ntests/test_agent_template_parser.py::TestTemplateManager::test_validate_agent_folder_structure_no_folder PASSED [  3%]\ntests/test_agent_template_parser.py::TestTemplateManager::test_validate_agent_folder_structure_not_directory PASSED [  3%]\ntests/test_agent_template_parser.py::TestTemplateManager::test_validate_agent_folder_structure_empty_name PASSED [  3%]\ntests/test_agent_template_parser.py::TestTemplateManager::test_load_agent_folder_templates_valid PASSED [  3%]\ntests/test_agent_template_parser.py::TestTemplateManager::test_load_agent_folder_templates_invalid_structure PASSED [  3%]\ntests/test_agent_template_parser.py::TestTemplateManager::test_load_template_files_folder_structure PASSED [  3%]\ntests/test_agent_template_parser.py::TestTemplateManager::test_load_template_files_legacy_structure PASSED [  4%]\ntests/test_agent_template_parser.py::TestTemplateManager::test_load_template_files_mixed_structure_prefers_folder PASSED [  4%]\ntests/test_agent_template_parser.py::TestTemplateManager::test_load_template_files_no_structure_helpful_error PASSED [  4%]\ntests/test_agent_template_parser.py::TestTemplateManager::test_validate_template_files_folder_structure PASSED [  4%]\ntests/test_agent_template_parser.py::TestTemplateManager::test_validate_template_files_folder_structure_empty_content PASSED [  4%]\ntests/test_agent_template_parser.py::TestTemplateManager::test_validate_template_files_folder_structure_invalid_json PASSED [  4%]\ntests/test_agent_template_parser.py::TestTemplateManager::test_validate_template_files_legacy_structure PASSED [  4%]\ntests/test_agent_template_parser.py::TestTemplateManager::test_validate_template_files_mixed_structure_folder_valid PASSED [  5%]\ntests/test_agent_template_parser.py::TestTemplateManager::test_validate_template_files_mixed_structure_legacy_valid PASSED [  5%]\ntests/test_agent_template_parser.py::TestTemplateManager::test_validate_template_files_mixed_structure_both_invalid PASSED [  5%]\ntests/test_agent_template_parser.py::TestTemplateParser::test_extract_variables_dollar_format PASSED [  5%]\ntests/test_agent_template_parser.py::TestTemplateParser::test_extract_variables_simple_format PASSED [  5%]\ntests/test_agent_template_parser.py::TestTemplateParser::test_extract_variables_mixed_format PASSED [  5%]\ntests/test_agent_template_parser.py::TestTemplateParser::test_extract_variables_no_variables PASSED [  6%]\ntests/test_agent_template_parser.py::TestTemplateParser::test_extract_variables_empty_text PASSED [  6%]\ntests/test_agent_template_parser.py::TestTemplateParser::test_parse_system_prompt_basic PASSED [  6%]\ntests/test_agent_template_parser.py::TestTemplateParser::test_parse_system_prompt_multiline PASSED [  6%]\ntests/test_agent_template_parser.py::TestTemplateParser::test_parse_system_prompt_empty PASSED [  6%]\ntests/test_agent_template_parser.py::TestTemplateParser::test_parse_user_input_basic PASSED [  6%]\ntests/test_agent_template_parser.py::TestTemplateParser::test_parse_user_input_complex PASSED [  6%]\ntests/test_agent_template_parser.py::TestTemplateParser::test_parse_user_input_empty PASSED [  7%]\ntests/test_agent_template_parser.py::TestTemplateParser::test_parse_test_case_basic PASSED [  7%]\ntests/test_agent_template_parser.py::TestTemplateParser::test_parse_test_case_with_sys_structure PASSED [  7%]\ntests/test_agent_template_parser.py::TestTemplateParser::test_parse_test_case_invalid_json PASSED [  7%]\ntests/test_agent_template_parser.py::TestTemplateParser::test_parse_test_case_empty PASSED [  7%]\ntests/test_agent_template_parser.py::TestTemplateParser::test_map_variables_to_config_predefined PASSED [  7%]\ntests/test_agent_template_parser.py::TestTemplateParser::test_map_variables_to_config_custom PASSED [  8%]\ntests/test_agent_template_parser.py::TestTemplateParser::test_create_parsed_template PASSED [  8%]\ntests/test_agent_template_parser.py::TestTemplateParser::test_variable_positions PASSED [  8%]\ntests/test_agent_template_parser.py::TestTemplateParser::test_analyze_template_structure PASSED [  8%]\ntests/test_agent_template_parser.py::TestTemplateParser::test_analyze_json_structure PASSED [  8%]\ntests/test_agent_template_parser.py::TestTemplateParser::test_extract_json_variables_nested PASSED [  8%]\ntests/test_agent_template_parser.py::TestTemplateParser::test_has_user_input_structure PASSED [  8%]\ntests/test_agent_template_parser.py::TestTemplateParser::test_get_data_types PASSED [  9%]\ntests/test_agent_template_parser.py::TestTemplateParser::test_is_simple_template PASSED [  9%]\ntests/test_agent_template_parser.py::TestTemplateParser::test_generate_field_mapping PASSED [  9%]\ntests/test_agent_template_parser.py::TestTemplateParser::test_integration_full_parsing_flow PASSED [  9%]\ntests/test_agent_template_parser_integration.py::TestTemplateToAgentConfigWorkflow::test_complete_template_to_agent_workflow PASSED [  9%]\ntests/test_agent_template_parser_integration.py::TestTemplateToAgentConfigWorkflow::test_template_workflow_with_llm_enhancement SKIPPED [  9%]\ntests/test_agent_template_parser_integration.py::TestTemplateToAgentConfigWorkflow::test_template_workflow_error_handling PASSED [ 10%]\ntests/test_agent_template_parser_integration.py::TestBatchJSONToTestsetWorkflow::test_complete_batch_json_to_testset_workflow PASSED [ 10%]\ntests/test_agent_template_parser_integration.py::TestBatchJSONToTestsetWorkflow::test_batch_processing_with_complex_data_structures PASSED [ 10%]\ntests/test_agent_template_parser_integration.py::TestBatchJSONToTestsetWorkflow::test_batch_processing_error_handling PASSED [ 10%]\ntests/test_agent_template_parser_integration.py::TestCLIEndToEndWorkflow::test_cli_create_agent_from_templates_workflow SKIPPED [ 10%]\ntests/test_agent_template_parser_integration.py::TestCLIEndToEndWorkflow::test_cli_batch_create_testsets_workflow SKIPPED [ 10%]\ntests/test_agent_template_parser_integration.py::TestSystemCompatibilityValidation::test_generated_agent_config_compatibility PASSED [ 10%]\ntests/test_agent_template_parser_integration.py::TestSystemCompatibilityValidation::test_generated_testset_compatibility PASSED [ 11%]\ntests/test_backward_compatibility.py::TestFlowConfigBackwardCompatibility::test_flow_without_output_parser_returns_string PASSED [ 11%]\ntests/test_backward_compatibility.py::TestFlowConfigBackwardCompatibility::test_flow_without_output_parser_with_tokens PASSED [ 11%]\ntests/test_backward_compatibility.py::TestFlowConfigBackwardCompatibility::test_all_existing_flows_load_successfully PASSED [ 11%]\ntests/test_backward_compatibility.py::TestFlowConfigBackwardCompatibility::test_flow_with_defaults_still_works PASSED [ 11%]\ntests/test_backward_compatibility.py::TestAgentConfigBackwardCompatibility::test_all_agent_configs_load_successfully PASSED [ 11%]\ntests/test_backward_compatibility.py::TestAgentConfigBackwardCompatibility::test_agent_without_evaluation_config PASSED [ 12%]\ntests/test_backward_compatibility.py::TestAgentConfigBackwardCompatibility::test_agent_with_multiple_flows PASSED [ 12%]\ntests/test_backward_compatibility.py::TestPipelineConfigBackwardCompatibility::test_existing_pipeline_configs_load SKIPPED [ 12%]\ntests/test_backward_compatibility.py::TestPipelineConfigBackwardCompatibility::test_pipeline_without_evaluation_config SKIPPED [ 12%]\ntests/test_backward_compatibility.py::TestAPIBackwardCompatibility::test_run_flow_signature_compatibility PASSED [ 12%]\ntests/test_backward_compatibility.py::TestAPIBackwardCompatibility::test_run_flow_with_tokens_signature_compatibility PASSED [ 12%]\ntests/test_backward_compatibility.py::TestAPIBackwardCompatibility::test_load_agent_api_compatibility PASSED [ 12%]\ntests/test_backward_compatibility.py::TestAPIBackwardCompatibility::test_list_agents_api_compatibility PASSED [ 13%]\ntests/test_backward_compatibility.py::TestEvaluationBackwardCompatibility::test_evaluation_without_output_parser PASSED [ 13%]\ntests/test_backward_compatibility.py::TestEvaluationBackwardCompatibility::test_judge_agent_backward_compatibility PASSED [ 13%]\ntests/test_backward_compatibility.py::TestDataStructureBackwardCompatibility::test_evaluation_result_backward_compatibility PASSED [ 13%]\ntests/test_backward_compatibility.py::TestDataStructureBackwardCompatibility::test_pipeline_result_backward_compatibility PASSED [ 13%]\ntests/test_backward_compatibility.py::TestCLIBackwardCompatibility::test_single_run_cli_compatibility PASSED [ 13%]\ntests/test_backward_compatibility.py::TestCLIBackwardCompatibility::test_batch_run_cli_compatibility PASSED [ 14%]\ntests/test_backward_compatibility.py::TestModelOverrideBackwardCompatibility::test_model_override_in_extra_vars PASSED [ 14%]\ntests/test_baseline_manager.py::TestBaselineSnapshot::test_baseline_snapshot_creation PASSED [ 14%]\ntests/test_baseline_manager.py::TestBaselineSnapshot::test_baseline_snapshot_to_dict PASSED [ 14%]\ntests/test_baseline_manager.py::TestBaselineSnapshot::test_baseline_snapshot_from_dict PASSED [ 14%]\ntests/test_baseline_manager.py::TestBaselineSnapshot::test_baseline_snapshot_from_dict_missing_fields PASSED [ 14%]\ntests/test_baseline_manager.py::TestBaselineSnapshot::test_baseline_snapshot_from_dict_invalid_date PASSED [ 14%]\ntests/test_baseline_manager.py::TestBaselineManager::test_baseline_manager_initialization PASSED [ 15%]\ntests/test_baseline_manager.py::TestBaselineManager::test_baseline_manager_default_initialization PASSED [ 15%]\ntests/test_baseline_manager.py::TestBaselineManager::test_save_baseline_success PASSED [ 15%]\ntests/test_baseline_manager.py::TestBaselineManager::test_save_baseline_invalid_entity_type PASSED [ 15%]\ntests/test_baseline_manager.py::TestBaselineManager::test_save_baseline_with_evaluation_results PASSED [ 15%]\ntests/test_baseline_manager.py::TestBaselineManager::test_save_baseline_existing_file_backup PASSED [ 15%]\ntests/test_baseline_manager.py::TestBaselineManager::test_load_baseline_success PASSED [ 16%]\ntests/test_baseline_manager.py::TestBaselineManager::test_load_baseline_not_exists PASSED [ 16%]\ntests/test_baseline_manager.py::TestBaselineManager::test_load_baseline_invalid_json PASSED [ 16%]\ntests/test_baseline_manager.py::TestBaselineManager::test_list_baselines_success PASSED [ 16%]\ntests/test_baseline_manager.py::TestBaselineManager::test_list_baselines_empty_directory PASSED [ 16%]\ntests/test_baseline_manager.py::TestBaselineManager::test_list_baselines_invalid_files PASSED [ 16%]\ntests/test_baseline_manager.py::TestBaselineManager::test_delete_baseline_success PASSED [ 16%]\ntests/test_baseline_manager.py::TestBaselineManager::test_delete_baseline_not_exists PASSED [ 17%]\ntests/test_baseline_manager.py::TestBaselineManager::test_copy_baseline_success PASSED [ 17%]\ntests/test_baseline_manager.py::TestBaselineManager::test_copy_baseline_source_not_exists PASSED [ 17%]\ntests/test_baseline_manager.py::TestBaselineManager::test_copy_baseline_target_exists PASSED [ 17%]\ntests/test_baseline_manager.py::TestBaselineManager::test_get_baseline_performance PASSED [ 17%]\ntests/test_baseline_manager.py::TestBaselineManager::test_get_baseline_performance_not_exists PASSED [ 17%]\ntests/test_baseline_manager.py::TestBaselineManager::test_update_baseline_metadata PASSED [ 18%]\ntests/test_baseline_manager.py::TestBaselineManager::test_validate_baseline_success PASSED [ 18%]\ntests/test_baseline_manager.py::TestBaselineManager::test_validate_baseline_missing_fields PASSED [ 18%]\ntests/test_baseline_manager.py::TestBaselineManager::test_validate_baseline_invalid_entity_type PASSED [ 18%]\ntests/test_baseline_manager.py::TestBaselineManager::test_validate_baseline_invalid_metrics PASSED [ 18%]\ntests/test_baseline_manager.py::TestConvenienceFunctions::test_save_agent_baseline PASSED [ 18%]\ntests/test_baseline_manager.py::TestConvenienceFunctions::test_save_pipeline_baseline PASSED [ 18%]\ntests/test_baseline_manager.py::TestConvenienceFunctions::test_load_agent_baseline PASSED [ 19%]\ntests/test_baseline_manager.py::TestConvenienceFunctions::test_load_pipeline_baseline PASSED [ 19%]\ntests/test_baseline_manager.py::TestConvenienceFunctions::test_list_agent_baselines PASSED [ 19%]\ntests/test_baseline_manager.py::TestConvenienceFunctions::test_list_pipeline_baselines PASSED [ 19%]\ntests/test_batch_data_processor.py::TestProcessedJsonData::test_get_testset_entry_with_id PASSED [ 19%]\ntests/test_batch_data_processor.py::TestProcessedJsonData::test_get_testset_entry_without_id PASSED [ 19%]\ntests/test_batch_data_processor.py::TestBatchDataProcessor::test_init PASSED [ 20%]\ntests/test_batch_data_processor.py::TestBatchDataProcessor::test_validate_agent_exists_true PASSED [ 20%]\ntests/test_batch_data_processor.py::TestBatchDataProcessor::test_validate_agent_exists_false PASSED [ 20%]\ntests/test_batch_data_processor.py::TestBatchDataProcessor::test_get_available_agents PASSED [ 20%]\ntests/test_batch_data_processor.py::TestBatchDataProcessor::test_get_available_agents_empty_dir PASSED [ 20%]\ntests/test_batch_data_processor.py::TestBatchDataProcessor::test_process_json_inputs_valid PASSED [ 20%]\ntests/test_batch_data_processor.py::TestBatchDataProcessor::test_process_json_inputs_invalid_agent PASSED [ 20%]\ntests/test_batch_data_processor.py::TestBatchDataProcessor::test_process_json_inputs_invalid_json PASSED [ 21%]\ntests/test_batch_data_processor.py::TestBatchDataProcessor::test_extract_structured_data_simple PASSED [ 21%]\ntests/test_batch_data_processor.py::TestBatchDataProcessor::test_extract_structured_data_with_sys PASSED [ 21%]\ntests/test_batch_data_processor.py::TestBatchDataProcessor::test_extract_structured_data_with_user_name_replacement PASSED [ 21%]\ntests/test_batch_data_processor.py::TestBatchDataProcessor::test_convert_to_testset_format PASSED [ 21%]\ntests/test_batch_data_processor.py::TestBatchDataProcessor::test_save_testset_success PASSED [ 21%]\ntests/test_batch_data_processor.py::TestBatchDataProcessor::test_save_testset_invalid_agent PASSED [ 22%]\ntests/test_batch_data_processor.py::TestBatchDataProcessor::test_save_testset_auto_add_jsonl_extension PASSED [ 22%]\ntests/test_batch_data_processor.py::TestBatchDataProcessor::test_save_testset_creates_testsets_dir PASSED [ 22%]\ntests/test_batch_data_processor.py::TestBatchDataProcessorIntegration::test_end_to_end_processing PASSED [ 22%]\ntests/test_cli.py::TestAgentTemplateParserCLI::test_init PASSED          [ 22%]\ntests/test_cli.py::TestAgentTemplateParserCLI::test_create_agent_from_templates_success PASSED [ 22%]\ntests/test_cli.py::TestAgentTemplateParserCLI::test_create_agent_from_templates_file_not_found PASSED [ 22%]\ntests/test_cli.py::TestAgentTemplateParserCLI::test_batch_create_testsets_success PASSED [ 23%]\ntests/test_cli.py::TestAgentTemplateParserCLI::test_batch_create_testsets_agent_not_exists PASSED [ 23%]\ntests/test_cli.py::TestAgentTemplateParserCLI::test_list_templates_with_files PASSED [ 23%]\ntests/test_cli.py::TestAgentTemplateParserCLI::test_list_templates_no_directory PASSED [ 23%]\ntests/test_cli.py::TestAgentTemplateParserCLI::test_validate_templates_success PASSED [ 23%]\ntests/test_cli.py::TestAgentTemplateParserCLI::test_validate_templates_missing_files PASSED [ 23%]\ntests/test_cli.py::TestAgentTemplateParserCLI::test_create_agent_simple_success PASSED [ 24%]\ntests/test_cli.py::TestAgentTemplateParserCLI::test_create_agent_simple_missing_folder PASSED [ 24%]\ntests/test_cli.py::TestAgentTemplateParserCLI::test_suggest_common_fixes_missing_directory PASSED [ 24%]\ntests/test_cli.py::TestAgentTemplateParserCLI::test_suggest_common_fixes_empty_files PASSED [ 24%]\ntests/test_cli.py::TestAgentTemplateParserCLI::test_provide_helpful_error_guidance_folder_structure PASSED [ 24%]\ntests/test_cli.py::TestAgentTemplateParserCLI::test_provide_helpful_error_guidance_missing_folder PASSED [ 24%]\ntests/test_cli.py::TestAgentTemplateParserCLI::test_provide_helpful_error_guidance_json_error PASSED [ 25%]\ntests/test_cli.py::TestCLIMain::test_main_create_agent_legacy_command PASSED [ 25%]\ntests/test_cli.py::TestCLIMain::test_main_create_agent_simplified_command PASSED [ 25%]\ntests/test_cli.py::TestCLIMain::test_main_create_agent_invalid_flag_only PASSED [ 25%]\ntests/test_cli.py::TestCLIMain::test_main_create_agent_invalid_args PASSED [ 25%]\ntests/test_cli.py::TestCLIMain::test_main_create_testset_command PASSED  [ 25%]\ntests/test_cli.py::TestCLIMain::test_main_list_templates_command PASSED  [ 25%]\ntests/test_cli.py::TestCLIMain::test_main_validate_templates_command PASSED [ 26%]\ntests/test_cli.py::TestCLIMain::test_main_no_command PASSED              [ 26%]\ntests/test_cli_integration.py::TestCLIIntegrationWorkflow::test_end_to_end_folder_structure_workflow PASSED [ 26%]\ntests/test_cli_integration.py::TestCLIIntegrationWorkflow::test_end_to_end_legacy_structure_workflow PASSED [ 26%]\ntests/test_cli_integration.py::TestCLIIntegrationWorkflow::test_end_to_end_mixed_structure_prefers_folder FAILED [ 26%]\ntests/test_cli_integration.py::TestCLIIntegrationWorkflow::test_backward_compatibility_legacy_command PASSED [ 26%]\ntests/test_cli_integration.py::TestCLIIntegrationWorkflow::test_error_handling_missing_agent_folder PASSED [ 27%]\ntests/test_cli_integration.py::TestCLIIntegrationWorkflow::test_error_handling_invalid_folder_structure PASSED [ 27%]\ntests/test_cli_integration.py::TestCLIIntegrationWorkflow::test_error_handling_empty_template_files FAILED [ 27%]\ntests/test_cli_integration.py::TestCLIIntegrationWorkflow::test_error_handling_invalid_json FAILED [ 27%]\ntests/test_cli_integration.py::TestCLIIntegrationWorkflow::test_helpful_error_guidance_and_suggestions PASSED [ 27%]\ntests/test_cli_integration.py::TestCLIIntegrationWorkflow::test_llm_enhancement_integration PASSED [ 27%]\ntests/test_cli_integration.py::TestCLIIntegrationWorkflow::test_llm_enhancement_failure_handling PASSED [ 27%]\ntests/test_cli_integration.py::TestCLIIntegrationWorkflow::test_validation_workflow_integration PASSED [ 28%]\ntests/test_cli_integration.py::TestCLIIntegrationWorkflow::test_list_templates_integration PASSED [ 28%]\ntests/test_cli_integration.py::TestCLIMainIntegration::test_main_simplified_command_integration PASSED [ 28%]\ntests/test_cli_integration.py::TestCLIMainIntegration::test_main_simplified_command_no_llm PASSED [ 28%]\ntests/test_cli_integration.py::TestCLIMainIntegration::test_main_legacy_command_integration PASSED [ 28%]\ntests/test_cli_integration.py::TestCLIMainIntegration::test_main_invalid_arguments_integration PASSED [ 28%]\ntests/test_cli_integration.py::TestCLIMainIntegration::test_main_validate_command_integration PASSED [ 29%]\ntests/test_cli_integration.py::TestCLIMainIntegration::test_main_list_command_integration PASSED [ 29%]\ntests/test_cli_integration.py::TestCLIMainIntegration::test_main_no_command_integration PASSED [ 29%]\ntests/test_cli_integration.py::TestCLIErrorRecoveryIntegration::test_error_recovery_with_fallback_template FAILED [ 29%]\ntests/test_cli_integration.py::TestCLIErrorRecoveryIntegration::test_error_recovery_suggestions_integration PASSED [ 29%]\ntests/test_cli_integration.py::TestCLIPerformanceIntegration::test_large_template_file_handling PASSED [ 29%]\ntests/test_cli_integration.py::TestCLIPerformanceIntegration::test_multiple_agents_workflow FAILED [ 29%]\n\n=================================== FAILURES ===================================\n__ TestCLIIntegrationWorkflow.test_end_to_end_mixed_structure_prefers_folder ___\n/Users/qudian/Documents/GitHub/prompt-lab/tests/test_cli_integration.py:183: in test_end_to_end_mixed_structure_prefers_folder\n    assert \"folder structure assistant\" in call_args['system_prompt']['content']\nE   TypeError: 'ParsedTemplate' object is not subscriptable\n_____ TestCLIIntegrationWorkflow.test_error_handling_empty_template_files ______\n/Users/qudian/Documents/GitHub/prompt-lab/tests/test_cli_integration.py:283: in test_error_handling_empty_template_files\n    mock_exit.assert_called_once_with(1)\n/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/unittest/mock.py:955: in assert_called_once_with\n    raise AssertionError(msg)\nE   AssertionError: Expected 'exit' to be called once. Called 0 times.\n------------------------------ Captured log call -------------------------------\nERROR    src.agent_template_parser.config_generator:config_generator.py:72 Failed to generate agent configuration: 'dict' object has no attribute 'get_all_variables'\n_________ TestCLIIntegrationWorkflow.test_error_handling_invalid_json __________\n/Users/qudian/Documents/GitHub/prompt-lab/tests/test_cli_integration.py:307: in test_error_handling_invalid_json\n    mock_exit.assert_called_once_with(1)\n/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/unittest/mock.py:955: in assert_called_once_with\n    raise AssertionError(msg)\nE   AssertionError: Expected 'exit' to be called once. Called 0 times.\n------------------------------ Captured log call -------------------------------\nERROR    src.agent_template_parser.template_parser:template_parser.py:155 Invalid JSON in test case: Expecting value: line 1 column 13 (char 12)\nERROR    src.agent_template_parser.config_generator:config_generator.py:72 Failed to generate agent configuration: 'dict' object has no attribute 'get_all_variables'\n__ TestCLIErrorRecoveryIntegration.test_error_recovery_with_fallback_template __\n/Users/qudian/Documents/GitHub/prompt-lab/tests/test_cli_integration.py:633: in test_error_recovery_with_fallback_template\n    mock_recovery.assert_called()\n/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/unittest/mock.py:913: in assert_called\n    raise AssertionError(msg)\nE   AssertionError: Expected 'handle_error' to have been called.\n_________ TestCLIPerformanceIntegration.test_multiple_agents_workflow __________\n/Users/qudian/Documents/GitHub/prompt-lab/tests/test_cli_integration.py:758: in test_multiple_agents_workflow\n    assert expected_agent in parsed_data['system_prompt']['content']\nE   TypeError: 'ParsedTemplate' object is not subscriptable\n----------------------------- Captured stdout call -----------------------------\nCreating agent 'agent1' from template folder...\n\u2705 Template files loaded successfully\nParsing templates...\nGenerating agent configuration...\nSaving configuration files...\n\u2705 Agent 'agent1' created successfully!\nConfiguration saved to: agents/agent1/\nCreating agent 'agent2' from template folder...\n\u2705 Template files loaded successfully\nParsing templates...\nGenerating agent configuration...\nSaving configuration files...\n\u2705 Agent 'agent2' created successfully!\nConfiguration saved to: agents/agent2/\nCreating agent 'agent3' from template folder...\n\u2705 Template files loaded successfully\nParsing templates...\nGenerating agent configuration...\nSaving configuration files...\n\u2705 Agent 'agent3' created successfully!\nConfiguration saved to: agents/agent3/\n=========================== short test summary info ============================\nFAILED tests/test_cli_integration.py::TestCLIIntegrationWorkflow::test_end_to_end_mixed_structure_prefers_folder - TypeError: 'ParsedTemplate' object is not subscriptable\nFAILED tests/test_cli_integration.py::TestCLIIntegrationWorkflow::test_error_handling_empty_template_files - AssertionError: Expected 'exit' to be called once. Called 0 times.\nFAILED tests/test_cli_integration.py::TestCLIIntegrationWorkflow::test_error_handling_invalid_json - AssertionError: Expected 'exit' to be called once. Called 0 times.\nFAILED tests/test_cli_integration.py::TestCLIErrorRecoveryIntegration::test_error_recovery_with_fallback_template - AssertionError: Expected 'handle_error' to have been called.\nFAILED tests/test_cli_integration.py::TestCLIPerformanceIntegration::test_multiple_agents_workflow - TypeError: 'ParsedTemplate' object is not subscriptable\n!!!!!!!!!!!!!!!!!!!!!!!!!! stopping after 5 failures !!!!!!!!!!!!!!!!!!!!!!!!!!!\n=========== 5 failed, 184 passed, 5 skipped, 41 deselected in 32.87s ===========\n/Users/qudian/Library/Python/3.12/lib/python/site-packages/pytest_asyncio/plugin.py:207: PytestDeprecationWarning: The configuration option \"asyncio_default_fixture_loop_scope\" is unset.\nThe event loop scope for asynchronous fixtures will default to the fixture caching scope. Future versions of pytest-asyncio will default the loop scope for asynchronous fixtures to function scope. Set the default fixture loop scope explicitly in order to avoid unexpected behavior in the future. Valid fixture loop scopes are: \"function\", \"class\", \"module\", \"package\", \"session\"\n\n  warnings.warn(PytestDeprecationWarning(_DEFAULT_FIXTURE_LOOP_SCOPE_UNSET))\n"
  },
  "imports": {
    "passed": true,
    "total_files": 96,
    "files_checked": 96,
    "import_errors": [],
    "warnings": []
  },
  "docs": {
    "passed": true,
    "total_docs": 62,
    "docs_checked": 62,
    "broken_links": [],
    "warnings": []
  },
  "summary": {
    "overall_status": "FAILED",
    "tests_passed": false,
    "imports_verified": true,
    "docs_verified": true,
    "total_issues": 1
  }
}
```
